<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Sofi ‚ù§Ô∏è</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Courier+Prime&display=swap" rel="stylesheet">
</head>
<body>

    <div id="escritorio" class="escritorio">
        
        <div class="burbuja-mensaje">
            <p>Hola mi coraz√≥n, esto es para ti con mucho amor, ¬°que disfrutes! üíå</p>
        </div>

        <div class="fila-iconos">
            <div class="icono-app" onclick="abrirVentana('win-corazon')">
                <img src="assets/cora.gif" alt="Coraz√≥n">
                <p>Coraz√≥n.exe</p>
            </div>
            <div class="icono-app" onclick="abrirVentana('win-juegos')">
                <img src="assets/icon-game.gif" alt="Juegos">
                <p>Juegos.exe</p>
            </div>
        </div>

        <div id="win-corazon" class="ventana-pixel" style="display:none;">
            <div class="barra-titulo">
                <span>corazon.exe</span>
                <button class="btn-x" onclick="cerrarVentana('win-corazon')">X</button>
            </div>
            <div class="contenido-pixel">
                <p class="pixel-text">Lo que hay dentro...</p>
                <div class="grid-pixel">
                    <div class="item-pixel" onclick="abrirModoLectura('overlay-carta')">
                        <img src="assets/icon-heart.gif" alt="Carta">
                        <p>Cartita con cari√±oüíñ</p>
                    </div>
                    <div class="item-pixel" onclick="abrirModoLectura('overlay-playlist')">
                        <img src="assets/icon-music.gif" alt="Playlist">
                        <p>Playlist</p>
                    </div>
                    <div class="item-pixel" onclick="window.location.href='universo.html'">
                        <img src="assets/universo.gif" alt="Universo">
                        <p>El centro de MI universo</p>
                    </div>
                </div>
            </div>
        </div>

        <div id="win-juegos" class="ventana-pixel" style="display:none;">
            <div class="barra-titulo">
                <span>juegos.exe</span>
                <button class="btn-x" onclick="cerrarVentana('win-juegos')">X</button>
            </div>
            <div class="contenido-pixel">
                <p class="pixel-text">¬°A jugar! üéÆ</p>
                <div class="grid-pixel">
                    <div class="item-pixel" onclick="window.location.href='suerte.html'">
                        <img src="assets/suerte.gif" alt="Suerte">
                        <p>Descubre tu fortuna</p>
                    </div>
                    <div class="item-pixel" onclick="window.location.href='monkys.html'">
                        <img src="assets/icon-monkey.gif" alt="Monkys">
                        <p>Ayuda al monito</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="overlay-carta" class="overlay-clean" style="display:none;">
        <button class="btn-cerrar-clean" onclick="cerrarModoLectura('overlay-carta')">‚úñ</button>
        
        <div class="container-vertical">
            <div class="caja-glass video-box">
                <video width="100%" height="100%" controls>
                    <source src="assets/video.mp4" type="video/mp4">
                    Tu navegador no soporta el video.
                </video>
            </div>

            <div class="caja-glass texto-box">
                <p class="typewriter">Mi amor,</p>
                <br>
                <p class="typewriter">
                    Hoy quiero pausar el tiempo...
                    <br><br>
                    (ESCRIBE AQU√ç TU CARTA LARGA...)
                </p>
                <br>
                <p class="typewriter">Te amo, siempre.</p>
                
                <button class="btn-pregunta" onclick="mostrarModalPregunta()">TENGO UNA PREGUNTA...</button>
            </div>
        </div>
    </div>

    <div id="overlay-playlist" class="overlay-clean" style="display:none;">
        <button class="btn-cerrar-clean" onclick="cerrarModoLectura('overlay-playlist')">‚úñ</button>
        
        <div class="container-vertical">
            <div class="caja-glass texto-box" style="text-align: center; margin-bottom: 20px;">
                <p class="pixel-text" style="color: #ff9ebd; font-size: 14px;">Pensando en ti con..üéß</p>
            </div>
            <div class="caja-glass spotify-box">
                <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
            </div>
        </div>
    </div>

    <div id="modal-backdrop" class="modal-backdrop" style="display:none;">
        
        <div id="modal-pregunta" class="popup-pixel-art" style="display:none;">
            <p>Despu√©s de leer<br>todo esto...</p>
            <h2 style="color: #ff69b4; margin: 15px 0;">¬øQuieres ser mi San Valent√≠n? üíñ</h2>
            <div class="botones-row">
                <button class="btn-si" onclick="aceptarValentin()">¬°S√ç,<br>QUIERO!</button>
                <button id="btn-no" class="btn-no" onmouseover="esquivar()" onclick="esquivar()">MMM, NO<br>S√â</button>
            </div>
        </div>

        <div id="modal-exito" class="popup-pixel-art" style="display:none;">
            <div style="font-size: 24px; margin-bottom: 10px;">üéâü•∞üéâ</div>
            <h2 style="color: #ff69b4; text-transform: uppercase; line-height: 1.5;">¬°Sab√≠a que dir√≠as<br>que s√≠!</h2>
            <p style="margin: 15px 0; font-family: 'Courier Prime'; font-weight: bold;">Te amo infinito.</p>
            <button class="btn-si" style="width: 100%;" onclick="volverAlEscritorio()">VOLVER AL ESCRITORIO</button>
        </div>

    </div>

    <script>
        // 1. SISTEMA DE VENTANAS DEL ESCRITORIO
        function abrirVentana(id) {
            // Cierra otras ventanas primero
            document.querySelectorAll('.ventana-pixel').forEach(v => v.style.display = 'none');
            document.getElementById(id).style.display = 'block';
        }
        function cerrarVentana(id) {
            document.getElementById(id).style.display = 'none';
        }

        // 2. SISTEMA DE "CLEAN VIEW" (OCULTAR ESCRITORIO)
        function abrirModoLectura(idOverlay) {
            // Ocultamos el escritorio completamente
            document.getElementById('escritorio').style.display = 'none';
            // Mostramos el overlay deseado
            document.getElementById(idOverlay).style.display = 'flex';
        }

        function cerrarModoLectura(idOverlay) {
            document.getElementById(idOverlay).style.display = 'none';
            // Volvemos a mostrar el escritorio
            document.getElementById('escritorio').style.display = 'block';
            // Restauramos estado inicial de ventanas si quieres
            document.querySelectorAll('.ventana-pixel').forEach(v => v.style.display = 'none');
        }

        // 3. L√ìGICA DE SAN VALENT√çN
        function mostrarModalPregunta() {
            document.getElementById('modal-backdrop').style.display = 'flex';
            document.getElementById('modal-pregunta').style.display = 'block';
            document.getElementById('modal-exito').style.display = 'none';
        }

        function aceptarValentin() {
            document.getElementById('modal-pregunta').style.display = 'none';
            document.getElementById('modal-exito').style.display = 'block';
            // Efecto confetti opcional aqu√≠
        }

        function volverAlEscritorio() {
            // Cierra todo y regresa al inicio
            document.getElementById('modal-backdrop').style.display = 'none';
            document.getElementById('overlay-carta').style.display = 'none';
            document.getElementById('escritorio').style.display = 'block';
            document.querySelectorAll('.ventana-pixel').forEach(v => v.style.display = 'none');
        }

        function esquivar() {
            const btn = document.getElementById('btn-no');
            const x = Math.random() * (window.innerWidth - 100);
            const y = Math.random() * (window.innerHeight - 100);
            btn.style.position = 'fixed';
            btn.style.left = x + 'px';
            btn.style.top = y + 'px';
        }
    </script>
</body>
</html>
